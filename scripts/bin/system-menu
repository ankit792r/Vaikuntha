#!/bin/bash

change_wallpaper() {
    selected=$(waypaper --output stdout)
    [[ -z "$selected" ]] && exit 0
    pkill swaybg || true
    swaybg -i "$selected" -m fill &
}


choice=$(printf "ğŸ” Lock\nğŸšª Logout\nğŸ”ƒ Reboot\nğŸ”’ Shutdown\nğŸ“ Edit Config\nğŸŒº Wallpaper" \
    | fuzzel --dmenu --prompt="System Â» ")

case "$choice" in
    "ğŸ” Lock")
        hyprlock
        ;;
    "ğŸšª Logout")
        hyprctl dispatch exit
        ;;
    "ğŸ”ƒ Reboot")
        systemctl reboot
        ;;
    "ğŸ”’ Shutdown")
        systemctl poweroff
        ;;
    "ğŸ“ Edit Config")
        $EDITOR "$HOME/Vaikuntha"
        ;;
    "ğŸŒº Wallpaper")
        change_wallpaper
        ;;
esac
